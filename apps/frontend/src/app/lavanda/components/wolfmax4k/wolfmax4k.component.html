<div class="grid">
  <div class="col-12">
    <div class="card">
      <p-dataView #dv [value]="indexes" filterBy="name" layout="list">
        <ng-template pTemplate="header">
          <div class="flex flex-column md:flex-row md:justify-content-between gap-2">
            <form class="form-group-search" [formGroup]="form">
              <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input pInputText type="text" formControlName="name" placeholder="Search by Name" class="w-full" />
              </span>
            </form>
            <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
          </div>
        </ng-template>

        <ng-template let-indexes pTemplate="listItem">
          <div class="col-12">
            <div class="flex flex-column md:flex-row align-items-center p-3 w-full">
              <img [src]="getSanitizedImageUrl(indexes.image!)" [alt]="indexes.name"
                class="my-4 md:my-0 w-9 md:w-10rem shadow-2 mr-5" />
              <div class="flex-1 flex flex-column align-items-center text-center md:text-left">
                <div class="font-bold text-2xl">{{indexes.name}}</div>
                <div class="mb-2">{{indexes.indexName}}</div>
              </div>
              <div
                class="flex flex-row md:flex-column justify-content-between w-full md:w-auto align-items-center md:align-items-end mt-5 md:mt-0">
                <p-button icon="pi pi-plus" class="white-space-nowrap" label="Add to BT4G"
                  (onClick)="addToBt4GBatch(indexes)" />

              </div>
            </div>
          </div>
        </ng-template>

        <ng-template let-indexes pTemplate="gridItem">
          <div class="grid grid-nogutter">
            <div class="col-12 md:col-4">
              <div class="card m-3 border-1 surface-border">
                <div class="flex flex-wrap gap-2 align-items-center justify-content-between mb-2">
                </div>
                <div class="flex flex-column align-items-center text-center mb-3">
                  <img [src]="getSanitizedImageUrl(indexes.image!)" [alt]="indexes.name"
                    class="w-9 shadow-2 my-3 mx-0" />
                  <div class="text-2xl font-bold">{{indexes.name}}</div>
                  <div class="mb-3">{{indexes.indexName}}</div>
                </div>
                <div class="flex align-items-center justify-content-between">
                  <p-button icon="pi pi-plus" class="white-space-nowrap" label="Add to BT4G"
                    (onClick)="addToBt4GBatch(indexes)" />
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </p-dataView>
      <p-paginator (onPageChange)="onPageChange($event)" [first]="0" [rows]="pageSize" [totalRecords]="totalElements"
        [rowsPerPageOptions]="rowsPerPageOptions"></p-paginator>
    </div>
  </div>
</div>
<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
<p-toast></p-toast>
